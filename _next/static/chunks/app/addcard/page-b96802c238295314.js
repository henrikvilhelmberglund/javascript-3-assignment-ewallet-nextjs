(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[482],{6585:function(e,t,n){Promise.resolve().then(n.bind(n,1423))},1423:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(7437),a=n(2265),l=n(8632),c=n(3198),s=n(9479),o=n(6814),i=n(4033);function d(e,t){let n=/^\d+$/.test(e.target.value);if(!n&&e.target.value){let n=e.target.selectionStart;e.target.value=e.target.value.replaceAll(/[^0-9]+/g,""),e.target.selectionStart=n-1,e.target.selectionEnd=n-1,t("Only numbers are allowed.");return}n&&t("")}function u(){let e=document.querySelector("#number-1").value,t=document.querySelector("#number-2").value,n=document.querySelector("#number-3").value,r=document.querySelector("#number-4").value,a=document.querySelector("#vendor").value,l=document.querySelector("#ccv").value,c=document.querySelector("#month").value,s=document.querySelector("#year").value,o="".concat(c,"/").concat(s);return{number1:e,number2:t,number3:n,number4:r,vendor:a,ccv:l,validThru:o}}function x(){let e=(0,c.I0)(),t=(0,i.useRouter)(),{firstName:n,lastName:x}=(0,a.useContext)(o.NameContext),{cardPreview:m}=(0,c.v9)(e=>e.ewallet),{cards:f}=(0,c.v9)(e=>e.ewallet),[h,p]=(0,a.useState)(""),[v,g]=(0,a.useState)("");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-5xl",children:"Add card"}),(0,r.jsx)(s.Z,{...m,allCards:!1}),(0,r.jsxs)("form",{onChange:t=>{let{number1:r,number2:a,number3:c,number4:s,vendor:o,ccv:i,validThru:d}=u(),m=r.padEnd(4,"*")+a.padEnd(4,"*")+c.padEnd(4,"*")+s.padEnd(4,"*");e((0,l.lg)({number:m,firstName:n,lastName:x,vendor:o,validThru:d,ccv:i,active:!0}))},onSubmit:r=>{r.preventDefault();let{number1:a,number2:c,number3:s,number4:o,vendor:i,ccv:d,validThru:m}=u();if(f.length>3){p("You have too many cards. Remove a card and try again.");return}e((0,l.LH)({number:a+c+s+o,firstName:n,lastName:x,vendor:i,validThru:m,ccv:d,active:!1})),g("Success! Navigating to cards..."),setTimeout(()=>{g(""),t.push("/cards")},1500)},className:"mt-12 flex flex-col gap-3 rounded-md bg-white p-4",action:"",children:[(0,r.jsxs)("div",{className:"relative flex gap-1",children:[(0,r.jsx)("p",{className:"absolute -top-7 left-0 text-xl text-red-500",children:h}),Array.from({length:4}).map((e,t)=>(0,r.jsx)("input",{onChange:e=>{d(e,p),3!==t&&4===e.target.value.length&&document.querySelector("#number-".concat(t+2)).focus()},className:"w-[4rem] rounded p-2 text-center",required:!0,type:"text",placeholder:"0000",minLength:"4",maxLength:"4",name:"number",id:"number-".concat(t+1)},t))]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{className:"w-32 rounded bg-slate-300 p-2",disabled:!0,type:"text",name:"firstName",id:"firstName",value:n}),(0,r.jsx)("input",{className:"w-32 flex-1 rounded bg-slate-300 p-2",disabled:!0,type:"text",name:"lastName",id:"lastName",value:x})]}),(0,r.jsxs)("select",{className:"p-2",id:"vendor",name:"vendor",children:[(0,r.jsx)("option",{value:"DuckCard",children:"DuckCard"}),(0,r.jsx)("option",{value:"FishCard",children:"FishCard"}),(0,r.jsx)("option",{value:"SvelteCard",children:"SvelteCard"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"inline",children:"Valid thru: "}),(0,r.jsx)("select",{className:"inline w-14 p-2",id:"month",name:"month",children:Array.from({length:12}).map((e,t)=>(0,r.jsx)("option",{value:t+1,children:t+1},t))}),(0,r.jsx)("select",{className:"inline w-20 p-2",id:"year",name:"year",children:Array.from({length:10}).map((e,t)=>(0,r.jsx)("option",{value:2024+t,children:2024+t},t))})]}),(0,r.jsx)("input",{type:"text",id:"ccv",placeholder:"ccv",className:"w-14",minLength:"3",maxLength:"3",required:!0,onChange:e=>{d(e,p)}}),(0,r.jsx)("div",{className:"mt-8"}),(0,r.jsx)("button",{className:"btn-blue",children:"Submit"}),v?(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)("p",{className:"fixed top-[50%] rounded-lg bg-green-500 p-2 text-center text-5xl text-white",children:v})}):null]})]})}},9479:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{Z:function(){return p}});var a=n(7437),l=n(3198),c=n(8632),s=n(6814),o=n(2265);function i(){let e=r(["flex flex-col justify-between rounded-xl bg-gradient-to-br from-green-400 to-green-700 p-4 shadow-md shadow-green-800 w-[340px] md:h-[270px] md:w-[440px]"]);return i=function(){return e},e}function d(){let e=r(["i-noto-duck h-16 w-16 rounded-md border-2 border-solid border-white bg-white"]);return d=function(){return e},e}function u(){let e=r(["flex flex-col justify-between rounded-xl bg-gradient-to-b from-blue-400 to-blue-700 p-4 shadow-md shadow-blue-800 w-[340px] md:h-[270px] md:w-[440px]"]);return u=function(){return e},e}function x(){let e=r(["i-noto-fish  h-16 w-16"]);return x=function(){return e},e}function m(){let e=r(["flex flex-col justify-between rounded-xl bg-gradient-to-b from-orange-500 to-[#FF3E00] to-50% p-4 shadow-md shadow-orange-800 w-[340px] md:h-[270px] md:w-[440px]"]);return m=function(){return e},e}function f(){let e=r(["i-devicon-svelte  h-16 w-16"]);return f=function(){return e},e}function h(){let e=r(["group relative"]);return h=function(){return e},e}function p(e){let t,n,{number:r,validThru:p,vendor:v,ccv:g,i:j,active:b,allCards:N}=e,{firstName:w,lastName:C}=(0,o.useContext)(s.NameContext),y=(0,l.I0)(),S=Array.from({length:4},(e,t)=>r.toString().slice(4*t,(t+1)*4)),E=b&&N?"!hidden":"animate-card".concat(j);return"DuckCard"===v?(t=i(),n=d()):"FishCard"===v?(t=u(),n=x()):"SvelteCard"===v&&(t=m(),n=f()),(0,a.jsxs)("button",{className:h(),title:"CCV is ".concat(g),onClick:()=>{b||(y((0,c.EX)()),y((0,c.D9)({i:j,newState:!0})))},children:[b&&!N?(0,a.jsx)("div",{className:"top-[60%] hidden items-center rounded-md p-2 group-hover:!absolute group-hover:!flex group-focus:!absolute  group-focus:flex",children:(0,a.jsxs)("p",{id:"explanation",className:"text-xl text-white md:hidden",children:["CCV: ",g]})}):null,(0,a.jsxs)("article",{className:"".concat(t," ").concat(E," ").concat(!1===b?"absolute left-11 top-[".concat(40*j,"px] z-").concat(j," md:left-0"):"animate-cardactive".concat(j)),children:[(0,a.jsxs)("header",{className:"flex h-[40%]  justify-between ",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1",children:[(0,a.jsx)("span",{className:"i-lucide-nfc -rotate-90 text-3xl text-black/80"}),(0,a.jsx)("span",{className:"i-flat-color-icons-sim-card-chip?bg text-5xl"})]}),(0,a.jsx)("div",{className:"flex flex-col items-center justify-center gap-1",children:(0,a.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,a.jsx)("p",{className:"font-".concat(v," text-4xl"),children:v}),(0,a.jsx)("span",{className:"".concat(n)})]})})]}),(0,a.jsx)("section",{className:"font-number flex justify-center gap-5 pb-4 md:text-3xl",children:S.map((e,t)=>(0,a.jsx)("p",{children:e},t))}),(0,a.jsxs)("footer",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("p",{className:"text-xs",children:"CARDHOLDER NAME"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("p",{className:"font-semibold",children:w.toUpperCase()}),(0,a.jsx)("p",{className:"font-semibold",children:C.toUpperCase()})]})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("p",{children:"VALID THRU"}),(0,a.jsx)("p",{className:"self-end pr-1 font-semibold",children:p})]})]})]})]})}},6814:function(e,t,n){"use strict";n.r(t),n.d(t,{NameContext:function(){return i},default:function(){return d}});var r=n(7437),a=n(5726),l=n(8632);let c=(0,a.xC)({reducer:{ewallet:l.ZP}});var s=n(2265),o=n(3198);let i=(0,s.createContext)("a");function d(e){let{name:t,children:n}=e;return console.log(t),(0,r.jsx)(o.zt,{store:c,children:(0,r.jsx)(i.Provider,{value:t,children:n})})}},8632:function(e,t,n){"use strict";n.d(t,{D9:function(){return c},EX:function(){return s},Jf:function(){return u},LH:function(){return o},f1:function(){return d},lg:function(){return i}});var r=n(5726);let a={number:"****************",validThru:"1/2024",vendor:"DuckCard",ccv:"***",active:!0},l=(0,r.oM)({name:"ewalletSlice",initialState:{cards:[{number:"6666567891011123",validThru:"10/2024",vendor:"DuckCard",ccv:176,active:!0}],cardPreview:a},reducers:{setActiveCard:(e,t)=>{console.log(t);let{i:n,newState:r}=t.payload;e.cards[n].active=r},setAllCardsToInactive:(e,t)=>{console.log(t),e.cards.forEach(e=>{e.active=!1})},createCard:(e,t)=>{let n=t.payload;e.cards.push(n)},deleteCard:(e,t)=>{e.cards.splice(t.payload,1)},updateCardPreview:(e,t)=>{e.cardPreview=t.payload},resetCardPreview:(e,t)=>{e.cardPreview=a}}}),{setActiveCard:c,setAllCardsToInactive:s,createCard:o,updateCardPreview:i,deleteCard:d,resetCardPreview:u}=l.actions;t.ZP=l.reducer},4033:function(e,t,n){e.exports=n(290)}},function(e){e.O(0,[713,971,864,744],function(){return e(e.s=6585)}),_N_E=e.O()}]);